<p-toolbar>
  <div class="p-toolbar-group-left">
    <button pButton type="button" label="Create User"
            class="p-button-success"
            icon="pi pi-plus"
            (click)="create()"
    ></button>
    {{(isLoading$|async)}}
  </div>

  <div class="p-toolbar-group-right">
    <span class="p-input-icon-left">
    <i class="pi pi-search"></i>
    <input type="text" pInputText placeholder="Search">
</span>
  </div>
</p-toolbar>
<p-table [value]="users" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th>Username</th>
      <th>Name</th>
      <th>Lastname</th>
      <th>Email</th>
      <th>CreatedAt</th>
      <th>
        <button pButton type="button"
                class="p-button-info p-button-rounded"
                icon="pi pi-cog">
        </button>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr>
      <td>{{user.username}}</td>
      <td>{{user.name}}</td>
      <td>{{user.lastname}}</td>
      <td>{{user.email}}</td>
      <td>{{user.createdAt | date:'medium'}}</td>
      <td>
        <button pButton type="button"
                class="p-button-warning p-button-rounded mr-2"
                icon="pi pi-pencil"
                pTooltip="Edit User"
                (click)="edit(user.id)"
                [loading]="(isLoading$|async)!">
        </button>
        <button pButton type="button"
                class="p-button-danger p-button-rounded"
                icon="pi pi-trash"
                pTooltip="Delete User"
                (click)="remove(user.id)">
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
