<form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-fluid">
  <div class="field">
    <label appLabel for="bloodType" label="Blood Type:"
           [required]="isRequire(bloodTypeFieldId)"></label>
    <p-dropdown id="bloodType"
                formControlName="bloodTypeId"
                dataKey="id"
                [options]="bloodTypes"
                optionLabel="name"
                optionValue="id"
                placeholder="Seleccione"
                [filter]="true"
                filterBy="name">
      <ng-template pTemplate="item" let-item>
        {{item.name}}
      </ng-template>
    </p-dropdown>
    <small appErrorMessage
           [errors]="bloodTypeFieldId.errors"
           [touched]="bloodTypeFieldId.touched"
           [dirty]="bloodTypeFieldId.dirty">
    </small>
  </div>
  <div class="formgrid grid">
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="username" label="Username:"
             [required]="isRequire(usernameField)"></label>
      <input type="text" pInputText id="username" formControlName="username"/>
      <small appErrorMessage
             [errors]="usernameField.errors"
             [touched]="usernameField.touched"
             [dirty]="usernameField.dirty">
      </small>
    </div>
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="password" label="Password:"
             [required]="isRequire(passwordField)"></label>
      <input pPassword type="password" id="password" formControlName="password"/>
      <small appErrorMessage
             [errors]="passwordField.errors"
             [touched]="passwordField.touched"
             [dirty]="passwordField.dirty">
      </small>
    </div>
  </div>
  <div class="formgrid grid">
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="name" label="Name:"
             [required]="isRequire(nameField)"></label>
      <input type="text" pInputText id="name" formControlName="name"/>
      <small appErrorMessage
             [errors]="nameField.errors"
             [touched]="nameField.touched"
             [dirty]="nameField.dirty">
      </small>
    </div>
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="lastname" label="Lastname:"
             [required]="isRequire(lastnameField)"></label>
      <input type="text" pInputText id="lastname" formControlName="lastname"/>
      <small appErrorMessage
             [errors]="lastnameField.errors"
             [touched]="lastnameField.touched"
             [dirty]="lastnameField.dirty">
      </small>
    </div>
  </div>
  <div class="formgrid grid">
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="birthdate" label="Birthdate:"
             [required]="isRequire(birthdateField)"></label>
      <p-calendar id="birthdate" formControlName="birthdate"
                  [showIcon]="true"
                  [readonlyInput]="true"></p-calendar>
      <small appErrorMessage
             [errors]="birthdateField.errors"
             [touched]="birthdateField.touched"
             [dirty]="birthdateField.dirty">
      </small>
    </div>
    <div class="field xl:col-6 lg:col-6 md:col-6 sm:col-12">
      <label appLabel for="email" label="Email:"
             [required]="isRequire(emailField)"></label>
      <input type="text" pInputText id="email" formControlName="email"/>
      <small appErrorMessage
             [errors]="emailField.errors"
             [touched]="emailField.touched"
             [dirty]="emailField.dirty">
      </small>
    </div>
  </div>
  <div class="field">
    <button pButton pRipple type="submit"
            label="Guardar"
            icon="pi pi-save"
            [loading]="(loaded$|async)!"></button>
  </div>
  <div *ngIf="(loaded$|async)" class="field">
    <app-progress-bar></app-progress-bar>
  </div>
</form>
